# Search Results for: What is DPOINT?

Keywords: dpoint

## Variations
1. What is DPOINT?
2. Explain what DPOINT is
3. Describe DPOINT
4. Tell me about DPOINT
5. Define DPOINT


## Context

### Summary
**PEST maximizes parameter precision in model input files.  Control variables PRECIS ("single" or "double") and DPOINT ("point" or "nopoint") affect precision and decimal point inclusion.  Smaller spaces may omit decimal points (if DPOINT="nopoint") to increase significant figures;  however, caution is advised.  Multiple parameter spaces use the minimum width, right-justified.**

### Header
**2.2.6 How PEST Fills a Parameter Space with a Number**

### Content
PEST writes as many significant figures to a parameter space as it can. It does this so that even if a parameter space must be small in order to satisfy the input field requirements of a model, there is still every chance that a parameter value can be distinguished from its incrementally-varied counterpart so as to allow proper derivatives calculation with respect to that parameter. Also, as has already been discussed, even though PEST adjusts its internal representation of a parameter value to the precision with which the model can read it so that PEST and the model are using the same number, in general more precision is better.
Two user-supplied control variables, PRECIS and DPOINT affect the manner in which PEST writes a parameter value to a parameter space. Both of these variables are provided to PEST through the PEST control file. PRECIS is a character variable which must be supplied as either “single” or “double”. It determines whether single or double precision protocol is to be observed in writing parameter values; unless a parameter space is greater than 13 characters in width it has no bearing on the precision with which a parameter value is written to a model input file, as this is determined by the width of the parameter space. If PRECIS is set to “single”, exponents are represented by the letter “e”; also if a parameter space is greater than 13 characters in width, only the last 13 spaces are used in writing the number representing the parameter value, any remaining characters within the parameter space being left blank. For the “double” alternative, up to 23 characters can be used to represent a number, and the letter “d” is used to represent exponents; also, extremely large and extremely small numbers can be represented.
If a model’s input data fields are small, and there is nothing you can do about it, every effort must be made to “squeeze” as much precision as possible into the limited parameter spaces available. PEST will do this anyway, but it may be able to gain one or more extra significant figures if it does not need to include a decimal point in a number if the decimal point is redundant. Thus if a parameter space is 5 characters wide and the current value of the
The parameter to which this field pertains is 10234.345, PEST will write the number as “1.0e4” or as “10234” depending on whether it must include the decimal point or not. Similarly, if the parameter space is 6 characters wide, the number 106857.34 can be represented as either “1.07e5” or “1069e2” depending on whether the decimal point must be included or not.
By assigning the string “nopoint” to the PEST control variable DPOINT, you can instruct PEST to omit the decimal point in the representation of a number if it can. However this should be done with great caution. If the model is written in FORTRAN and numbers are read using free field input, or using a field width specifier such as “(F6.0)” or “(E8.0)”, the decimal point is not necessary. However in other cases the format specifier will insert its own decimal point (e.g. for specifiers such as “(F6.2)”), or enforce power-of-10 scaling (e.g. for specifiers such as “(E8.2)”) if a decimal point is absent from an input number. Hence if you are unsure what to do, assign the string “point” to the control variable DPOINT; this will ensure that all numbers written to model input files will include a decimal point, thus overriding point-location or scaling conventions implicit in some FORTRAN format specifiers.
Note that if a parameter space is 13 characters wide or greater and PRECIS is set to “single”, PEST will include the decimal point regardless of the setting of “DPOINT”, for there are no gains to be made in precision through leaving it out. Similarly, if PRECIS is set to “double”, no attempt is made to omit a decimal point if the parameter space is 23 characters wide or more.
**Table 2.1 Representations of the number 12345.67**
|parameter space width|DPOINT|
|---|---|
|8|12345.67|
|7|12345.7|
|6|12346.|
|5|1.2e4|
|4|1.e4|
|3|***|
|2|**|
As explained below, a template file may contain multiple spaces for the same parameter. In such a case, PEST will write the parameter value to all those spaces using the minimum parameter space width specified for that particular parameter; for the wider spaces the number will be right-justified, with spaces padded on the left. In this way a consistent parameter value is written to all spaces pertaining to the one parameter.

### Source
- **File Name:** PEST Model-Independent Parameter Estimation. User Manual Part I: PEST, SENSAN and Global Optimisers
- **Main Section:** 2. The Model-PEST Interface
- **Subsection:** 2.2 Template Files

### Additional Summaries
- **Higher-Level Summary:** PEST software uses template, instruction, and control files for model input and output. Templates, created with text editor or software, are validated with TEMPCHEK, INSCHEK, and PESTCHEK. Parameters are replaced in templates, and model input files should match for precision. Instruction files extract model outputs. Precision is crucial for accurate derivative calculations.
- **Detailed Summary:** PEST provides model input files with parameter values for runs. Templates are required for ASCII input files with parameters, while binary files need a translator program. Templates should be less than 2000 characters wide and have a ".tpl" extension. PEST replaces delimited character sequences with parameter values in templates. Parameters are referenced in templates, control files, and utility programs. Model input files should match template parameter spaces for precision. Control variables affect precision and decimal point inclusion. Zoning simplifies template creation for large models with spatially distributed parameters. Advanced spatial parameterization methods are available. TEMPCHEK verifies template correctness and generates model input files.

### Related Context
- **Previous Summary:** Template parameter spaces should be wider than values in the model input file, especially for free-field input (add whitespace/commas). For formatted input, expand spaces to match the field width defined in the format specifier, ensuring parameter value discrimination.
- **Next Summary:** For large models with spatially distributed parameters,  zoning simplifies template creation.  Replace each zone's constant property value with a unique parameter identifier in the model input file. PEST reconstructs the array using parameter values from the control file. Parameters may appear across multiple template and input files; each must be defined in the control file.  More advanced spatial parameterization methods exist (e.g., pilot points).

### Metadata
- **Keywords:** DPOINT, PRECIS
- **Chunk ID:** b9e048330483
- **Chunk Index:** 1
- **Previous Chunk ID:** dd7ef744faab
- **Next Chunk ID:** 13d2f80305c3

---

## Context

### Summary
**PEST creates parameter value files (case.par, case.bpa for SVD-assisted inversion) containing parameter names, values, SCALE, and OFFSET (from the control file).  The first line lists PRECIS and DPOINT.  Utilities read/write these files;  manual creation uses "single", "point", 1.0, and 0.0 for PRECIS, DPOINT, SCALE, and OFFSET, respectively (Figure 2.1).**

### Header
**2.2 Parameter Value File**

### Content
The parameter value file is described in section 5.3.2 of part I of this manual. A parameter value file is written by PEST whenever an improved set of parameters is obtained. At any stage of the inversion process it thus contains the best set of parameters computed to date. The expected extension of a parameter value file is “.par”; however when PEST is conducting SVD‑assisted inversion it also writes a parameter value file containing base parameter values, this having an extension of “.bpa”.
A number of utility programs documented in this manual read and/or write parameter value files. There may be some occasions where you may need to write a parameter value file yourself for one of these programs to read. Fortunately this is easy, as its specifications are simple. An example of a parameter value file is shown below.
single point
ro1          1.00                  1.0               0.0
ro2          40.0                  1.0               0.0
ro3          1.00                  1.0               0.0
h1         1.00                  1.0               0.0
h2         10.0                  1.0               0.0
Figure 2.1 A parameter value file.
The first line of a parameter value file cites the PEST character variables PRECIS and DPOINT, the values for which are provided in the “control data” section of a PEST control file. Then follows a line for each parameter. Each line contains a parameter’s name, its current value and the values of the SCALE and OFFSET variables for that parameter as supplied in the PEST control file.
Entries on all lines of a parameter value file must be separated by one or more spaces. If a utility program writes a parameter value file, it normally refers to a PEST control file to obtain values for PRECIS, DPOINT, SCALE and OFFSET. If you write this file yourself, suitable values for these variables are “single”, “point”, “1.0” and “0.0” as shown in the above figure.

### Source
- **File Name:** PEST Model-Independent Parameter Estimation User Manual Part II: PEST Utility Support Software
- **Main Section:** 2. Files Types and Protocols
- **Subsection:** 

### Additional Summaries
- **Higher-Level Summary:** PEST software uses template, instruction, and control files for model input and output. Templates, created with text editor or software, are validated with TEMPCHEK, INSCHEK, and PESTCHEK. Parameters are replaced in templates, and model input files should match for precision. Instruction files extract model outputs. Precision is crucial for accurate derivative calculations.
- **Detailed Summary:** 

### Related Context
- **Previous Summary:** This chapter details file specifications for utility programs described in this manual; consolidating these specifications simplifies their use and modification.
- **Next Summary:** Observation value files (Figure 2.2) contain observation names (≤20 characters, no spaces) and values (space-delimited).  Each line represents one observation.

### Metadata
- **Keywords:** DPOINT, OFFSET, PRECIS, SCALE
- **Chunk ID:** f1d5d2fa5e55
- **Chunk Index:** 1
- **Previous Chunk ID:** 1879909fd251
- **Next Chunk ID:** 9802b46a408c

---

## Context

### Summary
**PAR2PAR uses a user-defined input file (infile) to transform parameters using mathematical expressions (Figure 7.3, supports sin, cos, tan, asin, acos, atan, sinh, cosh, tanh, exp, log, log10, abs, sqrt).  It writes model input files using template files (section 2.2, Part I). PRECIS ("single" or "double") and DPOINT ("point" or "nopoint") control output formatting.  When used with PEST, it's part of a composite model (batch file) and uses a separate template file.  Parameter names can differ between the input file and template file.**

### Header
**7.2.2 Using PAR2PAR**

### Content
- As is the normal PEST convention, parameter names must be 12 characters or less in length.
- Spaces can be placed next to operators, brackets and functions. However they cannot appear within numbers, parameter names or function names.
Some examples of allowable mathematical expressions are provided in figure 7.3.
trans5 = k5 * (top5 – bottom5)
pi = 3.14159
par3 = 3.4 * (4.5 + trans5 ^ (3 + sin(0.6)))
par4 = par3 / (pi + exp(5.0 + par3/trans5))
par5 = -(par1 + par2) * cosh(pi * trans5)
Figure 7.3 Examples of mathematical expressions supported by PAR2PAR.
If an expression is long, it may be continued onto the next line by placing the “&” character at the beginning of that line. Thus the expression
par5 = -(par1 + par2) * cosh(pi * trans5)
is equivalent to
par5 =
& -(par1+par2)
& * cosh(
& pi * trans5)
Generation of Model Input Files
Once it has calculated values for all parameters, PAR2PAR writes these values to one or more model input files using templates of these files to govern parameter value placement.
Use of template files for writing model input files is fully discussed in section 2.2 of part I of this manual. As is described in that section, slight variations of the way in which numbers representing parameter values are written to model input files can be effected through use of the PRECIS and DPOINT variables; values for these variables are supplied in the optional “control data” section of a PAR2PAR input file. If PRECIS is set to “single”, numbers are written to model input files using the “E” character for exponentiation. However if it is set to “double”, the “D” character is used; furthermore, if there is sufficient space, up to 23 characters can be used to record the value of the parameter instead of the usual maximum of 13. Setting the DPOINT variable to “nopoint” instructs PEST to write a parameter’s value to a model input file without the decimal point if this can be accomplished through numerical formatting, thereby gaining one extra significant figure of precision. (More will be said about precision shortly.) As is stated above, the “control data” section of the PAR2PAR input file is optional; if it is omitted, default values of “single” and “point” are supplied for PRECIS and DPOINT respectively.
Using PAR2PAR with PEST
The Composite Model
As was discussed above, when used with PEST, PAR2PAR will normally be run as part of a
“composite model” encapsulated in a batch file. Thus whenever PEST runs the model, it first runs PAR2PAR (and any other model preprocessors cited in the batch file), followed by the model (followed by any model postprocessors cited in the batch file).
As for any other model executable program which uses parameters which require estimation by PEST, a template file must be built, based on a PAR2PAR input file. Just before it runs the model, PEST will then write current parameter values to the PAR2PAR input file using the corresponding template file. An example of such a template file, based on the PAR2PAR input file shown in figure 7.2, is provided in figure 7.4.
ptf $
* parameter data
infilt1 = $infilt1             $
infiltrat2 = $infiltrat2$
infiltrat3 = $infiltrat3$
infilt2= infilt1 * infiltrat2
infilt3 = infilt2 * infiltrat3
* template and model input files
model.tpl model.in
* control data
single point
Figure 7.4 A template for the PAR2PAR input file of figure 7.2.
Based on the template file of figure 7.4, before PEST runs the model it will replace the strings “$infilt1$”, “$infiltrat2$”, and “$infiltrat3$” with the current values of the respective parameters. Note that these parameters do not need to be named the same as the PAR2PAR parameters to which values are assigned in the pertinent expressions in the PAR2PAR input file. They could have been given any name at all; the same parameter names are used by both PEST and PAR2PAR in this example simply as a matter of convenience. Furthermore, parameter spaces in the template of a PAR2PAR input file do not need to be restricted in their location to the right side of expressions comprised of a “=” symbol followed by a single number. See, for example, the PAR2PAR input file and corresponding template file depicted in figures 7.5 and 7.6. These accomplish the same task as the files depicted in figures 7.2 and 7.4.
* parameter data
infilt1 = 0.3456
infilt2= infilt1 * 1.23983
infilt3 = infilt2 * 1.53953
* template and model input files
model.tpl model.in
Figure 7.5 A PAR2PAR input file.
ptf $
* parameter data
infilt1 = $infilt1             $
infilt2= infilt1 * $infiltrat2$
infilt3 = infilt2 * $infiltrat3$
* template and model input files
model.tpl model.in
Figure 7.6 A template for the PAR2PAR input file of figure 7.5.
It is apparent that when using PAR2PAR as part of a composite model run by PEST there are two sets of template files involved in the inversion process, namely that used by PEST to write a PAR2PAR input file, and those used by PAR2PAR to write model input files. These

### Source
- **File Name:** PEST Model-Independent Parameter Estimation User Manual Part II: PEST Utility Support Software
- **Main Section:** 7. Model Pre- and Postprocessing
- **Subsection:** 7.2 PAR2PAR

### Additional Summaries
- **Higher-Level Summary:** PEST's sensitivity reuse feature in Chapter 7 reduces model runs by skipping low-sensitivity parameter recalculations, but is cautioned against for nonlinear problems. SVD-assist is a preferable alternative, with sensitivities recomputed every N iterations. Broyden updating remains active. DOSENREUSE in "control data" toggles this feature, with SENRELTHRESH, SENMAXREUSE, SENALLCALCINT, SENPREDWEIGHT, and SENPIEXCLUDE offering customization options.
- **Detailed Summary:** DOSENREUSE in the "control data" section activates or deactivates PEST's sensitivity reuse functionality. SENRELTHRESH sets the relative sensitivity threshold, SENMAXREUSE sets the maximum parameters for reuse, and SENALLCALCINT controls the recalculation interval. SENPREDWEIGHT and SENPIEXCLUDE adjust sensitivity calculations in predictive analysis mode.

### Related Context
- **Previous Summary:** PAR2PAR transforms parameters using a user-defined input file (infile, Figure 7.1, 7.2). It uses mathematical expressions in the "parameter data" section, referencing previously defined parameters.  Template and model input file names are in the "template and model input files" section.  A "control data" section (optional, defaults "single" "point" for PRECIS/DPOINT) may be included.  Errors in template files or the input file halt execution. Use `par2par infile`.
- **Next Summary:** PAR2PAR transforms parameters;  a template file is required for each model input file.  It can directly assign values or use expressions (Figure 7.3) referencing previously defined parameters.  Limited parameter space width in template files reduces precision, potentially affecting PEST performance.  In composite models, delete intermediate files before running each executable to prevent errors from using outdated data.

### Metadata
- **Keywords:** * control data, * parameter data, DPOINT, PRECIS
- **Chunk ID:** 505814fef0b3
- **Chunk Index:** 2
- **Previous Chunk ID:** c1b47394ad8e
- **Next Chunk ID:** bf992193e034

---

## Context

### Summary
**DERZEROLIM (optional) defines a Jacobian matrix zero threshold for compressed storage. NTPLFLE is the number of template files; NINSFLE is the number of instruction files. PRECIS ("single" or "double") sets precision. DPOINT ("point" or "nopoint") controls decimal point inclusion. NUMCOM, JACFILE, MESSFILE (Chapter 12) handle model-calculated derivatives. OBSREREF (Chapter 14) activates observation re-referencing.**

### Header
**4.2.5 Fourth Line**

### Content
DERZEROLIM
Like MAXCOMPDIM, DERZEROLIM is optional. If supplied, it supports the use of MAXCOMPDIM, defining a threshold below which the value of an element of the Jacobian matrix can be considered to be zero, and hence omitted from compressed storage.
NTPLFLE
This is an integer variable, informing PEST of the number of model input files which contain parameters; PEST must write each of these files prior to a model run. As there must be one template file for each such model input file, NTPLFLE is also equal to the number of template files which PEST must use in writing the current parameter set. A model may have many input files; however PEST is concerned only with those which it needs to rewrite prior to each model run, i.e. those for which there are template files. As explained later, a single template file may, under some circumstances, be used to write more than one model input file. In such a case you must count each template file - model input file pair separately in determining NTPLFLE.
NINSFLE
This is the number of instruction files. There must be one instruction file for each model output file containing model-generated observations which PEST reads. (In some circumstances, a single model output file may be read by more than one instruction file; however each instruction file - model output file pair is counted separately in determining NINSFLE).
PRECIS
PRECIS is a character variable which must be either “single” or “double”. If it is supplied to PEST as “single”, PEST writes parameters to model input files using single precision protocol; hence parameter values will never be greater than 13 characters in length (even if the parameter space allows for a greater length) and the exponentiation character is “e”. If PRECIS is supplied as “double”, parameter values are written to model input files using double precision protocol; the maximum parameter value length is 23 characters and the exponentiation symbol is “d”. See section 2.2.6.
DPOINT
This character variable must be either “point” or “nopoint”. If DPOINT is provided with the value “nopoint” PEST will omit the decimal point from representations of parameter values on model input files if the decimal point is redundant, thus making room for the use of one extra significant figure. If DPOINT is supplied as “point” (which is normally recommended), PEST will ensure that the decimal point is always present. See section 2.2.6.
NUMCOM, JACFILE and MESSFILE
These variables are used to control the manner in which PEST can obtain derivatives directly from the model if these are available; see chapter 12. For normal operation these should be set to 1, 0 and 0 respectively. Alternatively, all of them can be omitted. However if one of
them is cited in the PEST control file then all of them must be cited. Also if a value is supplied for NUMCOM, then a DERCOM value must be supplied for all parameters in the “parameter data” section of the PEST control file; If NUMCOM is 1, then all of these DERCOMs must also be 1.
OBSREREF
Observation re-referencing is activated by adding the string “obsreref” to the fourth line of the “control data” section of the PEST control file. The “obsreref” string can be placed anywhere on this line. Observation re-referencing can be de-activated (the default condition) by omitting this string, or by placing the string “noobsreref” on this line. Observation re-referencing is discussed in chapter 14 of this manual.

### Source
- **File Name:** PEST Model-Independent Parameter Estimation. User Manual Part I: PEST, SENSAN and Global Optimisers
- **Main Section:** 4. The PEST Control File
- **Subsection:** 4.2 Control Data Section

### Additional Summaries
- **Higher-Level Summary:** Figure 4.2 in PEST software displays control data section variables. The text details options for writing matrices, files, and parameters, including settings for matrix and file saving, operational modes, precision, derivative handling, and convergence criteria. Optional features like sensitivity reuse and LSQR algorithm for solving inverse problems are discussed.
- **Detailed Summary:** Figure 4.2 shows "control data" section variables (from Appendix A, Figure A1.1).  Some variables are discussed later. The first line must be "* control data";  some variables are optional (in brackets).

### Related Context
- **Previous Summary:** NPAR (total parameters), NOBS (observations, excluding dummy), NPARGP (parameter groups), NPRIOR (prior information items), and NOBSGP (observation groups) are integer variables in the PEST control file.  In "estimation" mode, adjustable parameters should not exceed weighted observations plus prior information, unless using SVD or LSQR. MAXCOMPDIM (optional) activates compressed Jacobian matrix storage.
- **Next Summary:** RLAMBDA1 (initial Marquardt lambda, ~10.0) and RLAMFAC (Marquardt lambda adjustment factor, ~2.0 or -3.0) control lambda adjustments during iterations.  PHIRATSUF (objective function reduction ratio, ~0.3) determines iteration completion; if not met, PHIREDLAM is used.

### Metadata
- **Keywords:** DERCOM, DPOINT, JACFILE, MAXCOMPDIM, MESSFILE, NINSFLE, NTPLFLE, NUMCOM, OBSREREF, PRECIS
- **Chunk ID:** e611a7673cad
- **Chunk Index:** 1
- **Previous Chunk ID:** 26873b456a9c
- **Next Chunk ID:** 9b975b5255bb

---

## Context

### Summary
**NTPFLE and NINSFLE (integers >1) specify template and instruction file counts.  PRECIS ("single") and DPOINT ("point") control parameter value formatting (not used by PEST++). NUMCOM (integer, 1 or omitted for single command lines) specifies the number of model command lines.  These variables are used by PEST but not PEST++.**

### Header
**4.6.5 Fourth Line **

### Content
The two leading variables on this line are NTPFLE and NINSFLE. Both of these are integers. Both must be greater than 1. Even though these variables are not read by programs of the PEST++ suite, both should be given correct values to ensure that a PEST control file is PESTCHEK-friendly. NTPFLE is the number of template files featured in the “model input” section of the PEST control file, while NINSFLE is the number of instruction files featured in the “model output” section of the PEST control file.
PRECIS and DPOINT are text variables which guide PEST in the writing of parameter values on model input files. Programs of the PEST++ suite do not use these variables. Set them to “single” and “point” respectively to render a PEST control file PESTCHEK-friendly.
NUMCOM, an integer variable, is the number of model command lines featured in the “model command line” section of a PEST control file. If there is only a single command line, set this to 1 or omit it altogether.

### Source
- **File Name:** PEST Model-Independent Parameter Estimation: PEST++ a Software Suite for Parameter Estimation, Uncertainty Analysis, Management Optimization and Sensitivity Analysis
- **Main Section:** 4. The PEST Control File
- **Subsection:** 4.6 Control Data Section

### Additional Summaries
- **Higher-Level Summary:** Figure 4.2 in PEST software displays control data section variables. The text details options for writing matrices, files, and parameters, including settings for matrix and file saving, operational modes, precision, derivative handling, and convergence criteria. Optional features like sensitivity reuse and LSQR algorithm for solving inverse problems are discussed.
- **Detailed Summary:** The optional "automatic user intervention" section (section 6.3) governs automatic user intervention, activated by setting DOAUI to "doaui" in the "control data" section.  If omitted, default values are used.

### Related Context
- **Previous Summary:** NPAR, NOBS, NPARGP, NPRIOR, and NOBSGP (integers, >0 except NPRIOR which can be 0) specify parameter, observation, and group counts from respective PEST control file sections.  PEST++ programs only use the first variable on this line; however, PESTCHEK requires correct values for all variables.
- **Next Summary:** Variables RLAMBDA1, RLAMFAC, PHIRATSUF, PHIREDLAM, and NUMLAM on line five control Marquardt lambda selection in PEST (not used by PEST++). For PESTCHEK compatibility, set them to 10.0, -2.0, 0.3, 0.01, and 10, respectively.

### Metadata
- **Keywords:** DPOINT, NINSFLE, NUMCOM, PRECIS
- **Chunk ID:** 9813ada0b4b7
- **Chunk Index:** 1
- **Previous Chunk ID:** 255d2e8af039
- **Next Chunk ID:** a02a8be1a203

---
