# Search Results for: What is RSTFLE?

Keywords: rstfle

## Variations
1. What is RSTFLE?
2. Explain what RSTFLE is
3. Describe RSTFLE
4. Tell me about RSTFLE
5. Define RSTFLE


## Context

### Summary
**RSTFLE ("restart" or "norestart") enables PEST's restart capability (Appendix B). PESTMODE ("estimation", "prediction", "regularisation", or "pareto") selects the operational mode;  additional mode-specific sections may be included.**

### Header
**4.2.3 Second Line**

### Content
RSTFLE
This character variable must be assigned one of two values, namely “restart” or “norestart”. If it is supplied as “restart”, PEST “leaves tracks” as it runs, dumping the contents of its arrays to binary files, and continuously updating those files, so that its execution can be recommenced later if it is intentionally or accidently halted. PEST execution can be restarted using a variety of switches, each of which instructs PEST to behave differently as it recommences the inversion process. See later for details. See appendix B for a listing of the files which hold PEST’s restart data; note that these files can become large where an inverse problem employs many parameters and many observations.
If the RSTFLE variable is set to “norestart”, PEST will not leave tracks; hence a later recommencement of execution is impossible.
PESTMODE
This character variable must be supplied as “estimation”, “prediction”, “regularisation” or “pareto”. For all but “estimation”, a section must be added to the bottom of the PEST control file containing variables which govern its operation when working in that mode. If such a section is present and PEST is not running in that mode, then that section is ignored.

### Source
- **File Name:** PEST Model-Independent Parameter Estimation. User Manual Part I: PEST, SENSAN and Global Optimisers
- **Main Section:** 4. The PEST Control File
- **Subsection:** 4.2 Control Data Section

### Additional Summaries
- **Higher-Level Summary:** Figure 4.2 in PEST software displays control data section variables. The text details options for writing matrices, files, and parameters, including settings for matrix and file saving, operational modes, precision, derivative handling, and convergence criteria. Optional features like sensitivity reuse and LSQR algorithm for solving inverse problems are discussed.
- **Detailed Summary:** Figure 4.2 shows "control data" section variables (from Appendix A, Figure A1.1).  Some variables are discussed later. The first line must be "* control data";  some variables are optional (in brackets).

### Related Context
- **Previous Summary:** Figure 4.2 shows "control data" section variables (from Appendix A, Figure A1.1).  Some variables are discussed later. The first line must be "* control data";  some variables are optional (in brackets).
- **Next Summary:** NPAR (total parameters), NOBS (observations, excluding dummy), NPARGP (parameter groups), NPRIOR (prior information items), and NOBSGP (observation groups) are integer variables in the PEST control file.  In "estimation" mode, adjustable parameters should not exceed weighted observations plus prior information, unless using SVD or LSQR. MAXCOMPDIM (optional) activates compressed Jacobian matrix storage.

### Metadata
- **Keywords:** PESTMODE, RSTFLE
- **Chunk ID:** 9b2451e25955
- **Chunk Index:** 1
- **Previous Chunk ID:** 093533cf8535
- **Next Chunk ID:** 26873b456a9c

---

## Context

### Summary
**RSTFLE ("restart") enables PEST's restart capability. PESTMODE ("estimation" or "regularization") sets the operational mode;  "regularization" mode uses the "regularization" section (or defaults if absent).**

### Header
**4.6.3 Second Line**

### Content
This line holds two variables, namely RSTFLE and PESTMODE. The first of these variables informs PEST whether it should record files that hold restart information. Set this to “restart”. The second variable sets the mode of PEST behaviour. Set this to “estimation” unless you wish to run PESTPP-GLM in “regularization” mode. If this is the case, then PESTPP-GLM will read the “regularization” section of the PEST control file if it is present; if a “regularization” section is not present, PESTPP-GLM provides default values for all regularization control variables.

### Source
- **File Name:** PEST Model-Independent Parameter Estimation: PEST++ a Software Suite for Parameter Estimation, Uncertainty Analysis, Management Optimization and Sensitivity Analysis
- **Main Section:** 4. The PEST Control File
- **Subsection:** 4.6 Control Data Section

### Additional Summaries
- **Higher-Level Summary:** Figure 4.2 in PEST software displays control data section variables. The text details options for writing matrices, files, and parameters, including settings for matrix and file saving, operational modes, precision, derivative handling, and convergence criteria. Optional features like sensitivity reuse and LSQR algorithm for solving inverse problems are discussed.
- **Detailed Summary:** The optional "automatic user intervention" section (section 6.3) governs automatic user intervention, activated by setting DOAUI to "doaui" in the "control data" section.  If omitted, default values are used.

### Related Context
- **Previous Summary:** The PEST control file's "control data" section must begin with the line "* control data", where the asterisk is followed by a space.
- **Next Summary:** NPAR, NOBS, NPARGP, NPRIOR, and NOBSGP (integers, >0 except NPRIOR which can be 0) specify parameter, observation, and group counts from respective PEST control file sections.  PEST++ programs only use the first variable on this line; however, PESTCHEK requires correct values for all variables.

### Metadata
- **Keywords:** PESTMODE, RSTFLE
- **Chunk ID:** 07ced7dc7c05
- **Chunk Index:** 1
- **Previous Chunk ID:** c11d3d4e62ec
- **Next Chunk ID:** 255d2e8af039

---

## Context

### Summary
**A terminated Parallel PEST run (RSTFLE="restart") can be restarted using `/r`, `/j`, or `/s` (section 5.1.5); PAGENT must be restarted unless already running.  Restarting without these switches restarts from the beginning.  Altered run management files require restarting PAGENT.  Control, template, and instruction files should remain unchanged for `/r`, `/j`, or `/s` restarts.**

### Header
**11.3.4 Re-Starting Parallel PEST**

### Content
If the RSTFLE variable in the “control data” section of the PEST control file is set to “restart”, a terminated Parallel PEST run can be restarted at any time using one of the “/r”, “/j” or “/s” switches discussed in section 5.1.5 of this manual. In all of these cases, PAGENT must be started in the manner described above on each agent machine before restarting Parallel PEST. Note, however, that if PAGENT is already running on each of these machines, it does not have to be restarted. This is because an already executing PAGENT can detect the re-commencement of Parallel PEST execution.
If Parallel PEST is restarted without the “/r”, “/j” or “/s” switches, it will commence the parameter estimation process from the very beginning. Once again, if PAGENT is already running on any agent machine (having been initially started for the sake of a previous Parallel PEST run), it need not be restarted. Such a re-commencement of PEST execution “from scratch” will sometimes be warranted after PEST terminates execution with an error message, or if the user terminates PEST execution with the “immediate stop” option; in neither case does PEST signal to its agents to cease execution, just in case the user wishes to restart PEST immediately after rectifying an error in the PEST control file or in a template or instruction file. Note, however, that if changes are made to the run management file, each of the agents
should be stopped and then re-started. If Parallel PEST is restarted with the “/r”, “/j” or “/s” switches, neither the PEST control file, nor any template or instruction file should have been altered from that supplied to Parallel PEST on its original run. It is important to note, however, that the same does not apply to the run management file. Thus Parallel PEST can re-commence a lengthy execution using more, less, and/or different agents from those that were used for the initial part of the Parallel PEST run, as long as the new run management file is prepared in the correct fashion and PAGENT execution is re-commenced on each of the agent machines identified in that file before PEST execution is re-commenced.

### Source
- **File Name:** PEST Model-Independent Parameter Estimation. User Manual Part I: PEST, SENSAN and Global Optimisers
- **Main Section:** 11. Parallel PEST and BEOPEST (continuación)
- **Subsection:** 11.3 Using Parallel PEST

### Additional Summaries
- **Higher-Level Summary:** Parallel PEST and BEOPEST parallelize model runs to reduce run time. Parallel PEST needs a run management file, while BEOPEST's is optional. Both distribute runs to available machines, with BEOPEST using faster TCP/IP communication. Parallel PEST uses PAGENT agents, requires separate folders for agents, and shared signal files for communication. BEOPEST offers ease of use, faster communication, flexibility, and support for multiple command lines and surrogate models.
- **Detailed Summary:** Prepare standard PEST input files and check them using PESTCHEK. Create a Parallel PEST run management file ensuring model runs correctly in each agent folder. Install PEST on each agent machine. Adjust WAIT in run management file to prevent file access conflicts. Parallel PEST manages runs intelligently, reassigning slow runs, and can be restarted mid-process.

### Related Context
- **Previous Summary:** To run Parallel PEST, execute `ppest case` (case.pst and case.rmf).  Parallel PEST reads control and run management files, verifies agent access, and starts agents. It uses identical inversion algorithms to PEST but manages runs intelligently, reassigning overdue or slow runs to idle agents, recording actions in a run management record file.  Execution stops when the process is complete or interrupted (section 5.4).
- **Next Summary:** Parallel PEST can start with only one active agent; all agents must be listed in the run management file.  PEST checks for agents upon startup and adds newly started agents to the process during the parameter estimation process, increasing flexibility.

### Metadata
- **Keywords:** RSTFLE
- **Chunk ID:** b4db3b3baac4
- **Chunk Index:** 1
- **Previous Chunk ID:** 3437425741a8
- **Next Chunk ID:** c590ad10e57f

---

## Context

### Summary
**PEST can be restarted using the `/j` switch, resuming at the last Jacobian matrix calculation.  This allows user intervention;  the user can hold parameters fixed before recalculating the parameter upgrade vector.  This process can be repeated multiple times.  RSTFLE=1 is required to save the Jacobian matrix.**

### Header
**6.2.4 Re-calculating the Parameter Upgrade Vector**

### Content
In normal PEST operation, the user will probably not be aware that his/her intervention is required until after at least one iteration has elapsed. Even if it has met with little success in lowering the objective function, PEST moves on to the next iteration commencing, once again, its time-consuming calculation of the Jacobian matrix (possibly having switched to the use of high-order derivatives).
The functionality exists within PEST to halt its execution at any time and then restart its execution at that place at which it last commenced calculation of the parameter upgrade vector, i.e. at the place at which it last completed its calculation of the Jacobian matrix. Provided the PEST control variable RSTFLE is set to 1, PEST stores the current Jacobian matrix (along with other information) in a binary file each time it is calculated; the most recent Jacobian matrix is easily retrieved if PEST is asked to re-calculate the parameter upgrade vector. (Note that the most recent Jacobian matrix may not be that which is stored in the JCO file; the latter file contains the Jacobian matrix associated with the best parameters achieved so far during the inversion process.)
Re-commencement of PEST execution for upgrade vector re-calculation is effected by running PEST using the command
pest case /j
where case is the current PEST case name, i.e. the filename base of the PEST control file; “j” stands for “Jacobian”. The same protocol is employed if restarting Parallel PEST or
BEOPEST. Whether PEST was terminated while testing the efficacy of different Marquardt lambdas in lowering the objective function, or whether it was terminated after the iteration counter had “ticked over” and PEST was engaged in calculation of a new Jacobian matrix, PEST will re-commence execution at the place at which the last Jacobian matrix had just finished being calculated. Thus, depending on what PEST was doing when its execution was terminated, it may re-commence execution within the same iteration as that in which it was interrupted, or in the previous iteration. In either case, it moves straight into calculation of the parameter upgrade vector and the testing of different Marquardt lambdas.
It is through this restart mechanism that user-assistance becomes possible with PEST. Upon inspection of the run record file and the parameter sensitivity file, a user may decide that PEST can do better in improving the objective function if it attempts the last parameter upgrade again with certain parameters, or groups of parameters, held fixed. Thus the laborious calculation of the Jacobian matrix is not wasted, for PEST is able to get a “second chance” at using this important information in calculating a better parameter set.
PEST can be stopped and restarted using the “/j” switch as many times as is desired. Thus you can progressively hold more and more parameters fixed until a significant improvement in the objective function is realised. Then you can let PEST move on to the next iteration.

### Source
- **File Name:** PEST Model-Independent Parameter Estimation. User Manual Part I: PEST, SENSAN and Global Optimisers
- **Main Section:** 6. Intervention
- **Subsection:** 6.2 User Intervention

### Additional Summaries
- **Higher-Level Summary:** Chapter 6 discusses automatic user intervention in PEST for regularization methods in parameter estimation. It suggests identifying and temporarily fixing insensitive parameters to improve matrix condition number and objective function. Parameters like DOAUI and MAXAUI customize intervention behavior, with options for mitigating bad derivatives and improving sensitivity.
- **Detailed Summary:** In unregularized inversions, insensitive parameters can lead to large adjustments beyond set limits, resulting in minimal objective function improvement. Increasing limits may not help; regularization or adjusting parameter sensitivity is recommended. Use the parameter sensitivity file to identify insensitive parameters and consider temporarily holding them at current values using the case.hld file.

### Related Context
- **Previous Summary:** A case.hld file (Figure 6.1) allows modifying RELPARMAX, FACPARMAX, LAMBDA, UPVECBEND, and "predictive analysis" variables.  It can temporarily hold parameters ("hold parameter"), parameter groups ("hold group"), or eigenvectors ("hold eigenvector") at their current values.  Ignored lines include comments (#) and incorrect entries.  The file must be deleted after use.
- **Next Summary:** PEST's run record file shows maximum parameter changes per iteration, along with parameter names.  Combined with parameter sensitivity information (section 5.3.3), this aids in identifying parameters to temporarily hold using the parameter hold file.

### Metadata
- **Keywords:** RSTFLE, lambdas
- **Chunk ID:** 9dfa0f626582
- **Chunk Index:** 1
- **Previous Chunk ID:** fd25b5dfc727
- **Next Chunk ID:** dd3efadcc02a

---

## Context

### Summary
**To increase PEST speed and reduce disk usage for many parameters, set RSTFLE to "norestart", JCOSAVE to "nojcosave", VERBOSEREC to "noverboserec", and ICOV, ICOR, IEIG, and IRES to 0.**

### Header
**15.10 Other Savings**

### Content
Where parameter numbers are large, the reading and writing of information pertaining to the inversion process can be a lengthy matter which can add to the time required for solution of the inverse problem. In some instances the following measures can accrue considerable savings in PEST speed (and in PEST’s disk footprint).
- Set the RSTFLE variable to “norestart”;
- Set JCOSAVE to “nojcosave”;
- Set VERBOSEREC to “noverboserec”;
- Set ICOV, ICOR, IEIG and IRES to 0.

### Source
- **File Name:** PEST Model-Independent Parameter Estimation. User Manual Part I: PEST, SENSAN and Global Optimisers
- **Main Section:** 15. Large Numbers of Parameters
- **Subsection:** 

### Additional Summaries
- **Higher-Level Summary:** This chapter discusses efficient calibration methods for models with tens of thousands of parameters using PEST. Adjoint techniques are recommended for highly parameterized models. Use compressed binary external derivatives files, 64-bit versions of PEST for large problems, and optimize Jacobian matrix storage. Prioritize linearity of regularization constraints and activate memory conservation for improved efficiency.
- **Detailed Summary:** 

### Related Context
- **Previous Summary:** For faster processing of compressed external derivatives files, supply elements in the same order as PEST's compressed Jacobian matrix (column-major, omitting zeros).  Wise MAXCOMPDIM selection (section 15.4.2) may avoid this re-ordering. Using indexed prior information (previous subsection) or supplying regularization constraints as model-calculated observations avoids reordering issues.  Derivatives for log-transformed parameters require careful handling.
- **Next Summary:** CMAES_P, a PEST-compatible CMA-ES global optimizer (Hansen and Ostermeier 2001, Hansen et al 2003, Bayer and Finkel 2007), doesn't require derivatives, making it suitable for numerically unstable or highly nonlinear models.  It may outperform PEST when derivatives lack integrity but will likely be slower when they are reliable.  It's based on CMA-ES version 2.5.

### Metadata
- **Keywords:** ICOR, ICOV, IEIG, IRES, JCOSAVE, RSTFLE, VERBOSEREC
- **Chunk ID:** c331d6d1956a
- **Chunk Index:** 1
- **Previous Chunk ID:** a6d2a3a086ad
- **Next Chunk ID:** 294cf037e40d

---
